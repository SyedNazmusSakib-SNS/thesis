<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thesis Presentation Viewer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .slide-item.active {
            background-color: #0f766e; /* teal-700 */
            color: white;
            border-left: 4px solid #ccfbf1; /* teal-100 */
        }
        .slide-item:hover:not(.active) {
            background-color: #1e293b; /* slate-800 */
        }
        /* Custom Scrollbar for Sidebar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a; 
        }
        ::-webkit-scrollbar-thumb {
            background: #334155; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #475569; 
        }
    </style>
</head>
<body class="bg-gray-100 h-screen flex overflow-hidden">

    <!-- Sidebar -->
    <aside class="w-64 bg-slate-900 text-slate-300 flex flex-col shadow-2xl z-10">
        <!-- Sidebar Header -->
        <div class="h-16 flex items-center px-6 bg-slate-950 shadow-md">
            <h1 class="text-lg font-bold text-teal-400 tracking-wide">
                <i class="fas fa-layer-group mr-2"></i>Thesis Slides
            </h1>
        </div>

        <!-- Slide List -->
        <div id="slideList" class="flex-1 overflow-y-auto py-2">
            <!-- Items injected by JS -->
        </div>

        <!-- Sidebar Footer -->
        <div class="p-4 bg-slate-950 text-xs text-center text-slate-500 border-t border-slate-800">
            Use <span class="px-1 py-0.5 bg-slate-800 rounded text-slate-300">←</span> <span class="px-1 py-0.5 bg-slate-800 rounded text-slate-300">→</span> to navigate
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col relative">
        
        <!-- Toolbar -->
        <div class="h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6 shadow-sm z-10">
            <div class="font-medium text-gray-700" id="currentInfo">
                Loading...
            </div>
            
            <div class="flex items-center space-x-2">
                <button onclick="prevSlide()" class="p-2 rounded-lg hover:bg-gray-100 text-gray-600 transition-colors" title="Previous (Left Arrow)">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="text-sm font-mono text-gray-500 w-16 text-center" id="counter">
                    -- / --
                </div>
                <button onclick="nextSlide()" class="p-2 rounded-lg hover:bg-gray-100 text-gray-600 transition-colors" title="Next (Right Arrow)">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>

        <!-- Iframe Container -->
        <div class="flex-1 bg-gray-200 p-8 flex items-center justify-center overflow-hidden">
            <div class="bg-white shadow-2xl rounded-lg overflow-hidden" style="width: 1280px; height: 720px; aspect-ratio: 16/9;">
                <iframe id="slideFrame" src="" class="w-full h-full border-0"></iframe>
            </div>
        </div>

    </main>

<script>
    const slideFiles = [1, 2, 3, 4, 7, 8, 9, 10, 11, 12, 13, 14, 15, 17, 27, 20, 22, 24, 28, 31, 32, 33, 34];
    const totalSlides = slideFiles.length; // Should be 24
    let currentSlide = 1;

    // Slide Titles Mapped to Logical Index
    const titles = {
        1: "Title Slide", 
        2: "Background: Evolution to Generalist AI",
        3: "Need for Automated RRG",
        4: "Current Limitations",
        5: "Research Objectives",
        6: "Research Questions",
        7: "Literature Review: Evolution of VLMs",
        8: "Literature Review: SOTA Models and their Limitations",
        9: "Literature Review: Longitudinal Reasoning",
        10: "Literature Review: Structured Representations",
        11: "Literature Review: Hallucination Depth",
        12: "Literature Review: Verification Mechanisms",
        13: "Literature Review: Critical Analysis",
        14: "Methodology: Framework Overview",
        15: "Results: Dataset Composition", 
        16: "Method: Structured Graph",
        17: "Method: Multimodal Fusion",
        18: "Method: Hallucination Mitigation",
        19: "Results: Cohort Characteristics",
        20: "Results: Supervision Coverage",
        21: "Results: Differential Reasoning",
        22: "Results: Error Analysis",
        23: "Conclusion",
        24: "References"
    };

    function init() {
        renderSidebar();
        loadSlide(1);
    }

    function getFileNum(index) {
        if (index < 1 || index > totalSlides) return 1;
        return slideFiles[index - 1];
    }

    function renderSidebar() {
        const container = document.getElementById('slideList');
        container.innerHTML = '';

        for (let i = 1; i <= totalSlides; i++) {
            const div = document.createElement('div');
            div.className = `slide-item px-6 py-3 cursor-pointer transition-colors border-l-4 border-transparent text-sm flex flex-col`;
            div.onclick = () => loadSlide(i);
            div.dataset.index = i;
            
            const title = titles[i] || `Slide ${i}`;
            const fileNum = getFileNum(i);
            
            div.innerHTML = `
                <span class="font-semibold truncate">${title}</span>
                <span class="text-xs opacity-60 mt-0.5">slide ${fileNum}.html</span>
            `;
            
            container.appendChild(div);
        }
    }

    function loadSlide(index) {
        if (index < 1 || index > totalSlides) return;
        currentSlide = index;

        // Determine file number
        const fileNum = getFileNum(index);

        // Update Iframe - Adjusted path for root directory deployment
        const iframe = document.getElementById('slideFrame');
        iframe.src = `Proposal_Presentation/${fileNum}.html`;

        // Update UI
        updateActiveState();
        updateInfo();
    }

    function updateActiveState() {
        document.querySelectorAll('.slide-item').forEach(el => {
            el.classList.remove('active');
            if (parseInt(el.dataset.index) === currentSlide) {
                el.classList.add('active');
                el.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        });
    }

    function updateInfo() {
        const title = titles[currentSlide] || `Slide ${currentSlide}`;
        document.getElementById('currentInfo').innerText = `${currentSlide}. ${title}`;
        document.getElementById('counter').innerText = `${currentSlide} / ${totalSlides}`;
    }

    function nextSlide() {
        if (currentSlide < totalSlides) loadSlide(currentSlide + 1);
    }

    function prevSlide() {
        if (currentSlide > 1) loadSlide(currentSlide - 1);
    }

    // Keyboard Navigation
    document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowRight' || e.key === 'Space') {
            nextSlide();
        } else if (e.key === 'ArrowLeft') {
            prevSlide();
        }
    });

    // Initialize
    init();

</script>
</body>
</html>
